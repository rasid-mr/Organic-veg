<template>
  <section class="container">
    <swiper
      :spaceBetween="30"
      :centeredSlides="true"
      :crossFade="true"
      :autoplay="{
        delay: 7500,
        disableOnInteraction: false,
      }"
      :effect="'fade'"
      :modules="modules"
      class="mySwiper"
    >
      <h1 class="header">GEM QUALITY VEGETABLE & FRUITS</h1>
       
      <TheHeader class="pot" />
       

      <!-- Generator: Adobe Illustrator 24.2.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
      <svg
        version="1.1"
        id="heart"
        class="heart"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        viewBox="0 0 924 458.1"
        style="enable-background: new 0 0 924 458.1"
        xml:space="preserve"
      >
        <mask id="fill">
          <rect
            id="maskerH"
            width="700"
            height="600"
            x="0"
            y="450"
            fill="#fff"
          />
        </mask>
        <linearGradient id="Gradient2" x1="0" x2="0" y1="0" y2="1">
          <stop offset="50%" stop-color="rgb(255, 82, 82)" />
          <stop offset="50%" stop-color="#94ff4d" />
          <!-- <stop offset="100%" stop-color="#73a24e"/> -->
        </linearGradient>
        <filter
          id="filter"
          class="filter"
          x="-3%"
          y="0%"
          width="120%"
          height="120%"
        >
          <feOffset in="SourceAlpha" dx="10" dy="10"></feOffset>
          <feGaussianBlur stdDeviation="10" result="DROP"></feGaussianBlur>
          <feFlood flood-color="#000" result="COLOR"></feFlood>
          <feComposite
            in="DROP"
            in2="COLOR"
            operator="in"
            result="SHADOW1"
          ></feComposite>
          <feComponentTransfer in="SHADOW1" result="SHADOW">
            <feFuncA type="table" tableValues="0 0.5"></feFuncA>
          </feComponentTransfer>
          <feMerge>
            <feMergeNode in="SourceGraphic"></feMergeNode>
            <feMergeNode in="SHADOW"></feMergeNode>
          </feMerge>
        </filter>
        <g class="heart_fill">
          <path
            class="st0"
            fill="url(#Gradient2)"
            mask="url(#fill)"
            filter="url(#filter)"
            d="M573.3,279.3l-46.8,46.2L420.8,429.8l-2.1,2.1l-11.9,11.8l-25-24.7l-2.2-2.2l-45.7-45.1h0l-14.6-14.5l-8.6-8.5
		l-25.8-25.4l-3.5-3.4l-41.1-40.6c-8.2-8.2-15.1-17.5-20.5-27.6c-0.5-0.9-1-1.8-1.4-2.8c-29.1-58-5.7-128.6,52.4-157.7
		c22.4-11.2,47.7-15,72.4-10.8h0c0.4,0.1,0.8,0.1,1.1,0.2c4,0.7,8,1.6,11.9,2.8c10.3,3,20,7.3,29.1,12.9c1,0.6,1.9,1.2,2.8,1.8
		c6.6,4.4,12.8,9.4,18.5,15.1l0.4-0.4l0.4,0.4c3.4-3.4,7-6.6,10.8-9.6c0.8-0.6,1.7-1.3,2.5-1.9c26-19.2,58.7-26.8,90.5-21.1
		c4,0.7,8,1.6,11.9,2.8c1.3,0.4,2.6,0.8,3.9,1.2c1,0.3,2.1,0.7,3.1,1.1c8.6,3.1,16.8,7.1,24.4,12.1c1.7,1.1,3.3,2.2,4.9,3.4
		c52.5,38.2,64.1,111.7,26,164.2C581.6,270.2,577.6,274.9,573.3,279.3z"
          />
        </g>
        <path
          class="st2 heart_icon"
          d="M603.3,115c-14.5-14.6-32.7-25.1-52.5-30.5c-1.3-0.4-2.6-0.7-4-1c-5.7-1.4-11.5-2.3-17.4-2.8
	c-1-0.1-2-0.2-3.1-0.2c-5.1-0.3-10.3-0.3-15.4,0.1c-28.1,1.9-54.7,13.7-74.8,33.5l-0.4-0.4l-0.4,0.4c-13.2-12.9-29.2-22.5-46.7-28.1
	c-1-0.3-2-0.6-3-0.9c-13.5-3.9-27.6-5.4-41.6-4.5c-0.4,0-0.8,0-1.2,0.1c-25.7,2-50.1,12.3-69.4,29.4c-1.8,1.6-3.6,3.3-5.4,5
	c-33.4,33.5-43.9,83.5-26.6,127.6c0.4,0.9,0.7,1.9,1.1,2.8c6,14.2,14.6,27.1,25.5,38l38.9,38.4l3.1,3l84.2,83.1l2.2,2.2l22.1,21.8
	l17.1,16.9l167.6-165.5C649.7,236.8,649.7,161.5,603.3,115z M601.2,281.1L435.8,444.5l-14.9-14.8l-21.6-21.4l-2.2-2.1l-82.6-81.5
	l-3-3l-41.1-40.6c-10.6-10.5-19-23-24.8-36.7c-0.4-0.9-0.8-1.9-1.1-2.8c-16.9-43-6.7-91.9,25.9-124.5c1.9-1.9,3.8-3.6,5.7-5.3h0
	c18.6-16.3,41.9-26.1,66.5-28.2c3.3-0.3,6.5-0.4,9.8-0.4c1.2,0,2.5,0,3.7,0.1c10,0.3,20,1.9,29.6,4.8c1,0.3,2,0.6,3,0.9
	c10.4,3.4,20.3,8.3,29.3,14.5c5.9,4,11.4,8.6,16.4,13.6l1.1,1.1l0.3-0.4l0.4,0.4l1.1-1.1c22.6-22.7,53.7-34.9,85.7-33.9
	c1.3,0,2.5,0.1,3.8,0.2c1,0.1,2,0.1,3.1,0.2c6.4,0.6,12.8,1.7,19.1,3.4c1.3,0.3,2.7,0.7,4,1.1c61.3,18.5,96,83.3,77.4,144.6
	C624.7,251,614.7,267.6,601.2,281.1z"
        />

        <text
          x="80"
          textLength="800"
          lengthAdjust="spacing"
          transform="matrix(1 0 0 1 361.9738 246.0893)"
          class="health"
          filter="url(#filter)"
        >
          Be Healthy
        </text>
        <text
          filter="url(#filter)"
          x="80"
          textLength="500"
          lengthAdjust="spacing"
          transform="matrix(1 0 0 1 361.9739 246.09)"
          class="organic"
        >
          Eat Organic
        </text>
      </svg>
      <swiper-slide>
        <img src="../assets/mixed-vegetable-1.jpg" alt="" />
      </swiper-slide>
      
      <swiper-slide
        ><img src="../assets/strwberry(1).jpg" alt=""
      /></swiper-slide>
      <swiper-slide
        ><img src="../assets/fruit-chocolete.jpg" alt=""
      /></swiper-slide>
    </swiper>

    <!-- down arrow -->
    <div class="indicator"></div>
  </section>
</template>

<script>
import { onMounted, onUnmounted } from "vue";
import gsap from "gsap";
// Import Swiper Vue.js components
import { Swiper, SwiperSlide } from "swiper/vue";
// Import Swiper styles
import "swiper/css";
import "swiper/css/effect-fade";
// import required modules
import { Autoplay, EffectFade } from "swiper";
import TheHeader from './TheHeader.vue'
export default {
  components: {
    Swiper,
    SwiperSlide,
    TheHeader,
  },
   

 

  setup() {
    
    onMounted(() => {
      const tl = gsap.timeline();
      tl.set(".organic", { scale: 1.2, xPercent: -5, autoAlpha: 0 });
      tl.set(".health", { autoAlpha: 0, scale: 1 });
      tl.set(".header", { opacity: 0.4, xPercent: 40 });
      tl.to(".header", {
        opacity: 1,
        xPercent: 0,
        duration: 2,
        ease: "expo.out",
      });
      tl.to(
        "#maskerH",
        {
          attr: { y: 0 },
          duration: 2,
          delay: 1,
          ease: "none",
          transformOrigin: "bottom center",
        },
        "+=.4"
      );
      tl.to(".heart_fill", { x: 29, duration: 1, ease: "power4.out" });
      tl.to(".heart_icon", {
        stroke: "transparent",
        duration: 0.4,
        ease: "back",
      });
      // tl.to(".heart_icon", { attr: {filter:"url(#filter)"}})
      tl.to(
        ".health",
        { attr: { textLength: 400 }, autoAlpha: 1, scale: 1, duration: 1.5 },
        "+=.5"
      );
      tl.to(
        ".health",
        {
          autoAlpha: 0,
          duration: 0.5,
          scale: 0.8,
          transformOrigin: "center center",
        },
        "+=.5"
      );

      tl.to(
        ".organic",
        {
          attr: { textLength: 400 },
          autoAlpha: 1,
          scale: 1,
          xPercent: 0,
          duration: 1,
          transformOrigin: "center center",
          ease: "bounce3",
        },
        "+=.12"
      );

      ///////////
      // refresh scrolltrigger
       
      
    });
     
    return {
      modules: [EffectFade, Autoplay],
    };
  },
};
</script>

<style lang="scss" scoped>
@import "open-props/style";
@import "open-props/normalize";

// .fla {
//   position: absolute;
//   height: 10vh;
//   top: 0;
//   left: 0;
//   z-index: 1001;
//   width: 100%;
// }
// svg class formal style
.st0 {
  // fill: #6c63ff;
}
.st1 {
  opacity: 0.15;
  enable-background: new;
}

// parent section
.container {
  display: grid;
  min-height: 100vh;
  max-width: 100vw;
  position: relative;

  .header {
    font-size: var(--font-size-fluid-3);
    color: #94ff4d;

    //  background-color: rgba(0,0,0, 0.1);
    position: absolute;
    top: 30%;
    left: $space-left;
    width: fit-content;

    font-family: "Roboto Mono", monospace;
    z-index: 2;
    background: inherit;
    background-attachment: fixed;
    @include respond(tab-land) {
      left: $space-left-land;
    }
    @include respond(tab-port) {
      left: $space-left-port;
    }
    @include respond(phone) {
      left: $space-left-phone;
    }

    &::after {
      content: "";
      position: absolute;
      top: -5%;
      left: 0;
      width: 90%;
      height: 100%;
      z-index: 1;
      background: rgba(0, 0, 0, 0.35);
      mix-blend-mode: color-dodge;
      -webkit-filter: blur(12px);
      filter: blur(12px);
      transform: scale(1) translateY(20px);
    }
  }
  .heart {
    // width: var(--size-fluid-10);
    width: #{scaleValue(700)};

    z-index: 11;
    position: absolute;
    // inset: 0;
    top: 60%;
    left: 68%;
    transform: translate(-50%, -50%);

    @include respond(tab-land) {
      width: #{scaleValue(700)};
      top: 70%;
      left: 60%;
    }

    @include respond(tab-port) {
      width: #{scaleValue(700)};
      top: 62%;
      left: 60%;
    }
    @include respond(phone) {
      top: 60%;
      //  left:55%;
      left: 60%;
      width: var(--size-fluid-10);
    }
    @include respond(sm-phone) {
      width: var(--size-fluid-10);
      left: 50%;
    }

    &_fill {
      // i am empty
    }

    &_icon {
      fill: none;
      stroke: $color-primary-white;
      stroke-width: 4;
      stroke-dasharray: 2415.04;
      stroke-dashoffset: 2415.04;

      animation: dash 3s linear 1.2s forwards 1;
      // animation: name duration timing-function delay iteration-count direction fill-mode;
    }

    @keyframes dash {
      from {
        stroke-dasharray: 2415.04;
      }
      to {
        stroke-dashoffset: 0;
      }
    }
  }
}

.health,
.organic {
  // font-size: 64px;
  font-size: var(--font-size-fluid-3);
  font-weight: 600;
  fill: $color-primary-light-green-2;
  stroke: none;
  letter-spacing: 2px;
  stroke-miterlimit: 10;

  @include respond(phone) {
    font-size: var(--font-size-7);
  }
}

// carousoul section
.swiper {
  width: 100%;
  height: 100vh;
  height: -webkit-fill-available;
}

.swiper-slide {
  text-align: center;
  font-size: 18px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.swiper-slide img {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

// down arrow

.indicator {
  width: var(--size-fluid-4);
  height: var(--size-fluid-5);
  border: 2px solid #fff;
  border-radius: var(--size-fluid-2);
  position: absolute;
  z-index: 10;
  top: 92%;
  left: 50%;
  transform: translate(-50%, -50%);
  @include respond(tab-port) {
    border-radius: var(--size-fluid-4);
  }
}
.indicator:before {
  content: "";
  position: absolute;
  width: var(--size-fluid-1);
  height: var(--size-fluid-1);
  background: #fff;
  margin: auto;
  left: 0;
  right: 0;
  top: 5px;
  border-radius: 50%;
  animation: animate 1s linear infinite;
  animation-delay: 10s;
}
@keyframes animate {
  0% {
    opacity: 1;
    transform: translateY(0px);
  }
  100% {
    opacity: 0;
    transform: translateY(40px);
  }
}

/////////////
//  header css

</style>
