<template>
  <div class="pot">
    
    <h2 class="primary-header">Broccoli vs Coca-cola!!</h2>
    <div class="vs">
      <div class="vs_broccole">
        <svg width="490" height="480" viewBox="-15 0 490 480" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- <path fill="transparent" d="M333.177 56.6447C429.177 30.9254 529.882 -15.1455 464.941 74.2194C372.706 183.396 357.647 207.867 489.412 207.867" stroke="#D18B21" stroke-width="8"/> -->
          <g clip-path="url(#clip0_252_47)">
          <path class="vs_broccole-path" d="M360.007 106.25C362.01 102.772 363.642 99.0973 364.89 95.2845C374.906 64.6275 358.116 31.5348 327.462 21.514C317.641 18.3077 307.225 17.7559 297.19 19.8918C289.571 12.4732 280.238 6.82649 270.098 3.5108C247.68 -3.81273 222.92 0.756447 204.565 15.4035C197.967 10.0613 190.505 6.01303 182.332 3.34192C154.002 -5.92012 122.536 4.49076 103.586 29.2538C86.2345 27.3652 69.128 34.1012 57.8538 47.1642C28.6238 51.8095 6.99099 76.9079 6.99099 106.892C6.99099 116.572 9.33623 125.989 13.9887 134.97C-2.1331 145.379 -12.2395 164.353 -12.2395 185.091C-12.2395 200.887 -6.19565 215.834 4.77419 227.182C15.4015 238.175 29.5348 244.64 44.7028 245.478C53.0301 255.401 64.9656 261.057 77.7051 261.057C78.6327 261.057 79.7387 261.04 80.9446 260.952C82.4836 262.831 84.1343 264.589 85.8659 266.245C111.721 321.417 117.177 416.923 117.177 487.62C117.177 494.787 123.004 500.612 130.169 500.612H204.617C211.786 500.612 217.62 494.787 217.62 487.62C217.62 383.267 266.098 299.459 291.103 263.193C299.319 267.187 307.575 269.204 315.735 269.204C349.09 269.204 376.229 242.069 376.229 208.712C376.229 201.551 374.985 194.551 372.533 187.872C374.255 184.551 375.725 181.041 376.923 177.406C385.158 152.203 378.503 124.836 360.007 106.25ZM361.67 172.411C360.628 175.577 359.315 178.617 357.757 181.466C355.06 185.843 355.783 189.639 356.991 192.174C359.106 197.445 360.178 203.011 360.178 208.715C360.178 233.219 340.244 253.151 315.743 253.151C308.44 253.151 300.803 250.727 293.016 245.946C289.072 243.356 280.6 236.91 278.449 234.539C275.469 231.254 270.391 231.009 267.111 233.987C263.826 236.965 263.581 242.043 266.559 245.325C268.878 247.88 273.457 251.56 277.522 254.606C264.411 273.642 247.288 301.923 232.589 337.392C212.423 386.047 201.998 435.545 201.58 484.564H133.235C133.089 420.512 128.37 337.442 108.519 279.695C114.492 281.62 120.828 282.64 127.36 282.64C128.772 282.64 130.183 282.59 131.584 282.493C132.868 285.632 134.331 288.995 135.849 292.48C140.444 303.036 145.653 315.005 147.96 325.387C148.762 329.102 152.065 331.759 155.831 331.759C155.962 331.759 156.09 331.757 156.221 331.75C162.231 331.457 163.656 325.951 164.191 323.877C164.517 322.619 164.938 320.854 165.447 318.632C166.465 314.175 167.716 308.357 168.972 302.246C170.052 296.997 172.212 286.258 173.751 277.167C178.263 278.225 182.899 278.772 187.568 278.772C188.95 278.772 190.327 278.713 191.699 278.62V334.126C191.699 337.801 194.194 341.007 197.76 341.906C198.414 342.073 199.075 342.154 199.727 342.154C202.624 342.154 205.364 340.579 206.789 337.941C221.926 309.917 247.05 263.968 250.428 259.247C251.812 257.592 252.285 254.763 252.285 253.039C252.285 248.843 248.691 245.011 244.258 245.011C240.709 245.011 237.129 244.576 233.642 243.725C232.263 243.382 231.009 243.018 229.777 242.6C226.792 241.601 222.513 242.036 219.668 245.273C219.005 246.034 218.355 246.786 217.723 247.523C212.269 253.843 208.665 258.024 201.936 260.32C197.31 261.913 192.472 262.722 187.568 262.722C181.752 262.722 176.01 261.561 170.663 259.356C170.423 259.242 170.178 259.14 169.926 259.05C168.201 258.303 166.515 257.451 164.888 256.486C164.857 256.469 164.822 256.447 164.791 256.431C161.508 254.535 157.679 254.794 154.813 257.09C150.186 260.774 144.875 263.45 139.024 265.044C135.271 266.071 131.348 266.59 127.362 266.59C116.235 266.59 105.879 262.636 97.9584 255.558C97.8347 255.441 97.7086 255.327 97.5778 255.22C95.7701 253.567 94.0909 251.747 92.5662 249.771L92.4996 249.685C91.0035 247.744 87.8852 243.694 80.8471 244.826C79.8529 244.988 78.6493 245.009 77.7146 245.009C69.4158 245.009 61.6214 241.113 56.3672 234.37C53.853 231.092 50.9512 229.634 46.6603 229.499C22.6394 228.737 3.82277 209.231 3.82277 185.094C3.82277 168.087 12.8422 152.812 26.8637 146.145C30.3269 144.459 31.5709 141.707 32.0014 140.218C32.822 137.385 32.2797 134.4 30.3792 131.322C25.5198 123.518 23.0533 115.302 23.0533 106.894C23.0533 84.0197 40.1859 65.0175 62.9034 62.6937C65.1273 62.463 67.1539 61.3213 68.4977 59.5374C76.492 48.9243 89.7191 43.4894 102.989 45.3589C108.193 46.101 112.456 44.2671 115.674 39.9025C130.406 19.9227 155.188 11.3624 177.349 18.605C184.766 21.0288 191.416 24.9201 197.127 30.1838C200.5 33.2806 206.544 35.0241 212.442 29.7533C226.756 17.04 246.934 12.8323 265.11 18.7715C273.466 21.4997 280.804 26.0594 286.922 32.3197C286.967 32.3649 287.005 32.4053 287.05 32.4482C289.607 34.9528 293.282 37.5977 299.048 35.9375C306.766 34.0013 314.865 34.2891 322.481 36.7723C344.718 44.0436 356.896 68.0526 349.63 90.2943C348.371 94.1404 346.573 97.7891 344.328 101.057C341.16 105.555 341.642 111.149 345.5 114.658C345.548 114.705 345.598 114.746 345.648 114.789C362.145 129.079 368.432 151.699 361.67 172.411ZM147.589 279.167C151.212 277.888 154.668 276.275 157.94 274.351C156.941 280.278 155.571 287.48 154.175 294.445C152.967 291.588 151.749 288.789 150.567 286.075C149.53 283.691 148.521 281.372 147.589 279.167ZM207.752 275.278C217.639 271.737 223.27 265.645 228.938 259.088C229.221 259.161 230.952 259.551 231.525 259.675C225.688 269.801 216.933 285.656 207.752 302.489V275.278V275.278Z" fill="black"/>
          <path class="vs_broccole-path"  d="M293.387 118.48C286.981 117.291 280.454 117.557 274.268 119.201C270.296 95.3724 251.667 75.6757 227.144 71.1256C197.198 65.5669 167.64 84.2504 159.834 113.647C158.694 117.933 161.247 122.326 165.533 123.468C169.817 124.605 174.214 122.055 175.354 117.769C181.022 96.4333 202.498 82.8803 224.221 86.9096C244.971 90.7581 259.904 109.534 258.962 130.584C258.829 133.546 260.342 136.338 262.889 137.848C265.439 139.359 268.614 139.342 271.147 137.803C276.941 134.285 283.794 133.025 290.463 134.264C305.405 137.035 315.307 151.449 312.536 166.393C311.93 169.666 310.76 172.758 309.061 175.579C306.775 179.378 308 184.311 311.799 186.597C313.095 187.377 314.522 187.748 315.933 187.748C318.656 187.748 321.308 186.361 322.819 183.857C325.514 179.38 327.366 174.49 328.323 169.321C330.447 157.866 327.983 146.269 321.387 136.666C314.789 127.062 304.846 120.604 293.387 118.48Z" fill="black"/>
          <path class="vs_broccole-path"  d="M157.917 156.908C146.378 146.302 131.424 140.822 115.743 141.483C100.085 142.139 85.6208 148.859 75.0149 160.397C65.2486 171.027 59.7589 184.825 59.5568 199.251C59.4949 203.682 63.039 207.328 67.4726 207.39C67.5106 207.39 67.5487 207.39 67.5867 207.39C71.968 207.39 75.5501 203.87 75.6119 199.474C75.7594 188.999 79.7458 178.978 86.8363 171.26C94.5404 162.883 105.046 158 116.418 157.524C127.785 157.053 138.672 161.025 147.054 168.729C150.843 172.211 153.93 176.281 156.235 180.826C158.238 184.782 163.069 186.359 167.024 184.356C170.977 182.351 172.559 177.52 170.554 173.567C167.378 167.3 163.126 161.696 157.917 156.908Z" fill="black"/>
          </g>
           <image class="vs_broccole-calory" x="10em" y="100%" xlink:href="../assets/broccoli.jpg" alt=""> </image>
          <defs>
          <clipPath id="clip0_252_47">
          <rect   width="480" height="480" fill="white" transform="translate(-64)"/>
          </clipPath>
          </defs>
        </svg>



      </div>
      <div class="vs_highlight">
        <!-- <h1 class="vs_highlight-header">VS</h1> -->
        <!-- <img src="../assets/pngwing.com.png" alt=""> -->
      </div>
      <div class="vs_card">
          <!-- <image class="grounp-8" src="../assets/Group 8.png" alt=""> </image> -->
      </div>
      <div class="vs_card"></div>
      <div class="vs_pepsi">
        <svg width="490" height="480" viewBox="0 0 490 480" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- <path fill="transparent" d="M288.359 8.94287C278.947 38.7524 134.375 41.0134 177.3 94.3969C288.359 232.514 32.7779 121.845 83.2202 188.794C149.103 276.235 -0.896082 230.858 4.12353 253.381" stroke="#10C923" stroke-width="8"/> -->
            <path class="vs_pepsi-path" d="M386.569 137.045L363.885 92.0501C358.288 81.268 354.851 68.7233 354.261 57.1118H356.127C360.153 57.1118 363.492 53.5869 363.492 49.3362V10.6656C363.492 6.82968 360.939 3.61577 357.404 2.99373C335.407 -0.945903 308.991 -1.04958 283.067 2.99373C279.433 3.5121 276.782 6.82968 276.782 10.6656V49.3362C276.782 53.5869 280.121 57.1118 284.147 57.1118H286.013C285.325 68.7233 281.888 81.2679 276.291 92.1538L253.705 137.148C245.751 151.248 242.118 166.385 242.118 184.839V282.811C242.118 283.433 242.216 284.055 242.314 284.677L255.669 342.631C257.83 353.31 257.044 364.714 253.214 375.6C253.214 375.703 253.116 375.807 253.116 375.911L247.911 393.639C243.492 405.043 242.019 416.759 243.591 428.266C243.591 428.577 243.689 428.888 243.787 429.303C245.456 435.835 246.046 439.049 246.635 442.366C246.929 444.025 247.224 445.684 247.617 447.757C248.501 455.636 252.232 462.686 258.321 467.455C265.391 473.054 274.818 475.231 284.245 473.468C284.343 473.468 284.442 473.469 284.54 473.365L291.316 471.706C298.091 477.719 306.536 480 312.232 480H328.239C336.193 480 341.299 476.371 345.816 473.157C346.602 472.639 347.387 472.017 348.173 471.499L355.931 473.365C356.029 473.365 356.127 473.365 356.225 473.468C365.653 475.335 375.08 473.054 382.15 467.455C388.238 462.686 391.97 455.636 392.854 447.757C393.247 445.684 393.541 443.921 393.836 442.366C394.425 439.049 394.916 435.835 396.684 429.303C396.782 428.992 396.88 428.681 396.88 428.266C398.353 416.759 396.88 405.043 392.559 393.639L387.355 375.911C387.355 375.807 387.256 375.703 387.256 375.6C383.525 364.714 382.641 353.31 384.801 342.631L398.157 284.677C398.255 284.055 398.353 283.433 398.353 282.811V184.839C398.157 166.281 394.425 151.145 386.569 137.045ZM291.414 17.5082C311.446 15.02 331.381 14.9163 348.762 17.4045V41.6643H291.414V17.5082V17.5082ZM266.373 144.82C266.471 144.717 266.471 144.613 266.569 144.509L289.253 99.5147C296.029 86.5553 300.055 71.3152 300.743 57.1118H339.532C340.219 71.2115 344.245 86.4517 350.923 99.411L373.607 144.509C373.705 144.613 373.705 144.717 373.803 144.82C378.517 153.218 381.364 161.823 382.641 171.776H257.535C258.812 161.823 261.659 153.218 266.373 144.82ZM382.248 425.571C380.481 432.413 379.891 436.042 379.302 439.463C379.008 441.122 378.713 442.781 378.32 444.751C378.222 445.062 378.222 445.373 378.222 445.684C377.731 450.453 375.276 453.459 373.214 455.014C369.482 457.917 364.18 459.161 358.975 458.125L348.468 455.636C346.7 455.222 344.834 455.533 343.263 456.362C341.103 457.606 339.139 459.058 337.469 460.198C333.541 462.997 331.479 464.449 328.14 464.449H312.134C308.304 464.449 302.609 462.479 298.975 458.125C297.208 455.948 294.458 455.014 291.807 455.636L281.299 458.125C276.095 459.058 270.792 457.917 267.06 455.014C264.998 453.459 262.543 450.453 262.052 445.684C262.052 445.373 261.954 445.062 261.954 444.751C261.561 442.781 261.267 441.122 260.972 439.463C260.383 436.042 259.794 432.413 258.026 425.571C256.946 416.759 258.124 408.05 261.561 399.134C261.659 398.927 261.758 398.719 261.758 398.512L267.06 380.68C271.774 366.995 272.756 352.688 269.908 339.106C269.908 339.003 269.908 339.003 269.908 338.899L258.812 290.483H381.463L370.366 338.899C370.366 339.003 370.366 339.003 370.366 339.106C367.617 352.584 368.599 366.995 373.214 380.68L378.517 398.512C378.615 398.719 378.615 398.927 378.713 399.134C382.15 408.05 383.328 416.759 382.248 425.571ZM383.427 274.932H256.749V187.327H383.427V274.932Z" fill="#F4A442"/>
            <image x="0" y="100%" class="vs_pepsi-calory"  xlink:href="../assets/coca-cola.jpg" ></image>
        </svg>

         
         

      </div>
    </div>
    <div class="explain">
       
        <!-- <div class="explain_scientist_image">
             <img src="../assets/Group 10.svg" alt="">
        </div> -->
        <div class="explain_scientist">
          <div class="explain_scientist_question">

              <h1 class="explain_scientist_question-head">Which one is healthy</h1>
                <span>
                 <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                      viewBox="-10 0 385.4 403.9" style="enable-background:new 0 0 385.4 403.9;" xml:space="preserve">
                   <g transform="translate(0, -10)"> 

                   <path id="around" class="st0 around" d="M176.7,233.9c0,0-41.7,8.2-39.6-46.9c1.9-48.1,51.6-45.1,51.6-45.1s6.7-5.5,30.7,12
                  c28.1,20.5,7,46.4-2.7,62.3C194.4,237,176.7,233.9,176.7,233.9z"/>
                <path  id="search" class="search" d="M344.1,395.7c-16.1-33.9-38.1-65-63.1-92.9c-14.6-14.8-31.1-27.5-48.3-39.1c29.9-27.5,48.6-70.5,37.6-110.8
                  c-9.1-32.2-42.7-55.1-75.6-42.6c-10.6,4.1-20.5,9.7-30.3,15.3c14.6-4.1,29.3-9.9,44.7-9.1c6.8,0.6,13.3,3,18.9,7
                  c3.4,1.8,9.3,7,12.7,11.6c13.9,23.5,12.3,37.9,2.1,67.2c-14.4,31.6-53.4,66.8-85.3,56.8c-7.2-1.7-28-21.1-30.9-36.8
                  c-11.2-41.6,5.9-85.7,60-96.6c-59.1-1.2-91.7,49.4-82.2,104.7c5.2,25.5,23.8,49.8,49.2,57.7c7.3,1.9,14.9,2.4,22.4,1.6
                  c2.7-0.5,5.7-0.8,4.5-0.6c0.2,0,0.3,0,0.5-0.1c17.9-1.1,33.8-10.1,47.4-21.4c12.1,14.9,24.5,29.5,36.7,44.2
                  c16,20.7,33.4,40.3,52.1,58.6c9.5,10,19,20,28.9,29.6C345.4,398.6,344.8,397.2,344.1,395.7z"/>
                   </g>
                  </svg>
                </span>
                <h1>?</h1>
          </div>
              <div class="explain_scientist_answer">
                  <h2 class="explain_scientist_answer-header">Calori is not a calori</h2>
                  <a class="explain_scientist_answer-link" href="">Read More</a>
              </div>
        </div>
  </div>
</div>
</template>

<script setup>
import {onMounted} from 'vue'

import {gsap} from 'gsap'
import{MotionPathPlugin} from 'gsap/MotionPathPlugin';
import {ScrollTrigger} from 'gsap/ScrollTrigger'
gsap.registerPlugin(MotionPathPlugin);
gsap.registerPlugin(ScrollTrigger);



onMounted(() => {
  const broccleCard = document.querySelector('.vs_broccole-calory');
  const pepsiCard = document.querySelector('.vs_pepsi-calory')
  // const b = document.querySelector(".vs_broccole-one")
  // console.log(b.getTotalLength())

  function sceneCard() {
  const card = gsap.timeline()
  card.to('.vs_broccole-calory', {attr: {y: "67%"}, duration:2})
  card.to('.vs_pepsi-calory', {attr: { y:"67%"}, duration:2 }, "-=2")
  }

  function scenePepsi() {
    const tl = gsap.timeline()
    const pepsi = document.querySelector('.vs_pepsi-path');
    let pathLengthPepsi = pepsi.getTotalLength().toFixed(2);
    tl.set(pepsi, {fill: "none",  strokeDasharray: pathLengthPepsi, strokeDashoffset: pathLengthPepsi})
    tl.to(pepsi, {strokeDashoffset:0, duration:3.5, ease:"power3.inOut"})
    tl.to(pepsi, {fill:"#ff9900", duration:.5})
  }
  
  function sceneBroccole() {
    const paths = document.querySelectorAll('.vs_broccole-path');
    paths.forEach((path) => {
      const pathAni = gsap.timeline()
      let pathLength = path.getTotalLength().toFixed(2);
      // console.log(pathLength)
      pathAni.set(path, {fill: "none",stroke:'#94ff4d', strokeWidth: 4, strokeDashoffset: pathLength, strokeDasharray: pathLength})
      pathAni.to(path, {strokeDashoffset:0,  duration:3, ease:"power3.inOut"})
      pathAni.to(path, {fill:'#94ff4d', duration:.5})
    });
  }

const animation = gsap.timeline()


ScrollTrigger.create({
  trigger:'.vs',
  start:"top bottom",
  onEnter:() => {
    animation.add(sceneBroccole())
         .add(scenePepsi(), "-=2")
         .add(sceneCard())
  }
})


gsap.to("#search", {
  duration: 3, 
  repeat: -1,
  ease: "power1.inOut",
  scrollTrigger: {
    trigger:'.search',
    start:'top bottom',
    // scrub:true,
    toggleActions: "play pause resume reset",
  },
  motionPath:{
    path: "#around",
    align: "#around",
    // autoRotate: true,
    alignOrigin: [0.6, 0.4]
  }
});

})





</script>

<style lang="scss" scoped>
@import "open-props/style";
@import "open-props/normalize";

.vs {
    display: grid;
    grid-auto-flow: column;
    align-items: flex-end;

    &_pepsi-path {
      stroke: #ff9900;
      stroke-width: 4;
    }

    &_broccole-path > * {
      // fill: none;
       
      // stroke: $color-primary-light-green-2;
    }

    
    &_highlight {
      align-self: center;
      justify-self: center;

      &-header {
        font-size: #{scaleValue(200)};
        font-weight: var(--font-weight-9);
      }
    }
}
.explain {
  display: grid;
  grid-auto-flow: column;
  margin-top: 10rem;

  &_scientist_image {

  }
  &_scientist {
    display: grid;
     
    &_question{
      display: flex;
    & > h1 {
      font-size: var(--font-size-fluid-3);
      color: $color-primary-purple;

    }
       & > span {
         width: var(--size-fluid-5);
         margin-inline-start: var(--size-fluid-1);
       }
    }

    &_answer{
    align-self: center;
      &-header {
        color: $color-primary-purple;
        margin-bottom: var(--size-fluid-3);
        font-size: var(--font-size-fluid-3);
      }

      &-link {
          font-size: var(--font-size-fluid-1);
      }
    }
  }

}

.primary-header {
   font-size: var(--font-size-fluid-3);
       color: $color-primary-purple;
       margin-block-end: var(--size-fluid-7);
}

.around {
// opacity: 0;
fill: none;
}
 .search {
   fill:black
 }
</style>
